<template>
  <main class="main-wrap">
    <div class="container">
      <div class="content">
        <h3 class="title">Morph SVG Using GSAP and NPM</h3>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          id="svg2"
          x="0"
          y="0"
          version="1.1"
          viewBox="9 80 800 400"
          xml:space="preserve"
        >
          <path
            ref="circle"
            d="M490.1 280.649c0 44.459-36.041 80.5-80.5 80.5s-80.5-36.041-80.5-80.5 36.041-80.5 80.5-80.5 80.5 36.041 80.5 80.5z"
            class="st1"
          />
        </svg>
      </div>
    </div>
  </main>
</template>

<script>
import { gsap } from "gsap";
import { MorphSVGPlugin } from "gsap/MorphSVGPlugin";

gsap.registerPlugin(MorphSVGPlugin);

export default {
  name: "Main",
  data() {
    return {
      star:
        "M409.6 198.066l26.833 54.369 60 8.719-43.417 42.321 10.249 59.758-53.665-28.214-53.666 28.214 10.249-59.758-43.417-42.321 60-8.719 26.834-54.369z",
      elephant:
        "M446.47 99.669c12.095 0 23.828 7.003 35.234 20.993 11.378 13.989 17.971 20.993 19.755 20.993h17.116c36.996 0 65.654 18.517 85.956 55.547 5.35 10.365 13.524 25.586 24.584 45.697 11.01 20.144 23.856 35.008 38.464 44.628 16.366 10.694 32.917 16.59 49.644 17.631 7.819.361 16.394-1.073 25.657-4.298 8.186-3.58 16.36-7.172 24.54-10.754l5.344 11.859c-26.337 20.215-51.436 30.64-75.297 31.363-25.619.712-53.231-5.514-82.764-18.643 25.263 29.205 47 47.005 65.161 53.385l-4.271 4.304c-32.041-5.7-61.607-22.099-88.655-49.147l-21.365 12.769c0 1.434-1.33 2.94-4.002 4.534-2.672 1.599-3.85 2.908-3.493 3.981 1.434 4.627 8.743 15.998 21.906 34.062 13.174 18.129 19.755 27.711 19.755 28.751 0 3.197-4.101 6.384-12.286 9.586-8.18 3.193-12.621 6.746-13.333 10.655-.722 3.198.329 7.107 3.198 11.707 2.83 4.627 4.264 7.43 4.264 8.53 0 7.08-6.23 11.509-18.67 13.305-2.163.329-8.936.526-20.313.526-21.348 0-36.668-4.796-45.927-14.345-7.468-8.146-13.365-23.046-17.636-44.656-1.434-7.43-3.909-20.729-7.468-39.898-36.307 9.253-73.698 13.886-112.166 13.886-23.505 0-48.96-1.764-76.38-5.344 4.637 11.76 11.223 31.357 19.798 58.766-17.806-2.502-39.186-6.055-64.093-10.688-11.055 16.721-20.506 24.742-28.329 24.026-13.886-1.046-33.837-7.989-59.818-20.795-6.416-3.198-9.614-8.021-9.614-14.438 0-6.395 4.993-18.161 14.959-35.245 9.949-17.077 15.293-29.008 16.009-35.786.718-6.072-1.035-14.405-5.311-25.103-5.344-13.891-8.378-22.941-9.09-27.245h2.146l-4.276-12.818c-16.393 17.8-31.351 30.804-44.88 38.989-15.682 9.61-34.199 15.868-55.548 18.671-4.27-4.238-7.106-6.379-8.541-6.379 26.341-11.41 52.355-29.375 77.973-53.959 1.079-1.073 7.825-5.858 20.314-14.438 7.101-4.621 11.371-10.101 12.811-16.518 8.887-35.595 27.048-60.732 54.463-75.335 22.427-11.739 53.953-17.603 94.53-17.603 18.518 0 36.154 1.238 52.876 3.717 7.829 2.146 20.307 4.66 37.391 7.491 1.434-14.17 6.422-26.752 14.963-37.741 9.622-12.786 21.192-19.176 34.715-19.176z",
      hippo:
        "M148.802 244.876c2.737-36.735 16.107-69.079 40.099-97.061 27.038-31.596 60.924-47.386 101.629-47.386 15.481 0 38.483 2.447 69.024 7.287 30.541 4.886 53.533 7.278 69.033 7.278 23.693 0 57.868 8.847 102.526 26.477 7.914 3.009 17.471 11.239 28.701 24.59 6.381 7.886 16.256 19.769 29.616 35.568 3.036 2.139 6.998 5.316 11.865 9.595 4.859 4.223 8.194 6.063 9.997 5.456.616-1.84 2.149-4.4 4.578-7.735 1.214-1.225 1.962-1.832 2.261-1.832.935.607 1.831 1.215 2.747 1.832.906.616 1.205 2.419.906 5.456-.616 5.474-.906 7.138-.906 4.998-.327 3.056-.757 5.008-1.373 5.952-3.952 6.671-5.485 11.847-4.55 15.472.916 3.325 3.765 8.669 8.642 15.958 4.868 7.287 7.586 12.761 8.193 16.405-.299 2.728-.43 7.119-.43 13.211l-4.568 11.379c0 8.512 9.865 23.114 29.616 43.78 9.436 4.223 14.117 18.826 14.117 43.714 0 19.47-16.089 29.167-48.273 29.167-4.26 0-8.81-.13-13.678-.467-3.335-1.196-8.203-2.56-14.575-4.074-7.586-.934-12.761-3.494-15.48-7.773-4.877-6.95-12.781-13.509-23.711-19.581-1.823-.878-4.485-4.223-7.979-10.016-3.503-5.774-6.615-9.418-9.333-10.949-2.719-1.495-6.68-1.813-11.856-.878-8.81 1.494-13.677 2.261-14.574 2.261-2.139 0-5.25-.598-9.343-1.831-4.11-1.215-7.054-1.831-8.893-1.831-2.112 9.735-2.589 19.152-1.364 28.252.298 2.448 1.831 4.428 4.559 5.923 4.27 3.046 6.531 4.709 6.849 5.045 2.718 2.111 5.615 5.605 8.642 10.445.616 1.849-.523 4.952-3.419 9.342-2.887 4.41-5.223 7.008-7.063 7.736-1.813.785-5.765 1.178-11.847 1.178-8.82 0-12.295.131-10.464.43-12.145-1.831-18.984-2.878-20.516-3.158-7.587-1.532-14.126-3.943-19.582-7.305-2.756-1.813-5.913-10.333-9.557-25.524-3.681-16.406-6.717-26.272-9.137-29.635-.598-.896-1.355-1.326-2.261-1.326-1.533 0-4.045 1.494-7.53 4.559-3.494 2.99-5.858 4.652-7.054 5.008-4.242 17.9-6.4 26.402-6.4 25.468 0 7.007 1.972 12.892 5.924 17.77a261.175 261.175 0 0012.323 14.107c5.157 5.774 7.736 10.782 7.736 15.042 0 2.41-.748 4.521-2.28 6.372-6.381 7.885-17.022 11.847-31.905 11.847-16.713 0-27.644-2.28-32.792-6.839-6.699-5.774-10.949-11.865-12.762-18.199-.298-1.533-1.055-6.091-2.28-13.678-.607-4.578-1.98-7.287-4.082-8.184-6.101-.916-13.687-2.578-22.778-5.007-1.841-1.215-3.811-4.26-5.942-9.118-3.933-9.399-6.83-15.789-8.661-19.134-9.128-4.56-23.702-9.698-43.761-15.453-.916 1.831-1.345 4.373-1.345 7.718 3.335 4.26 8.343 10.8 15.032 19.581 5.466 7.288 8.203 14.295 8.203 20.965 0 12.781-8.203 19.134-24.609 19.134-12.453 0-20.955-.878-25.523-2.709-6.671-2.728-12.295-9.136-16.854-19.134-7.596-16.742-11.847-26.159-12.762-28.27-4.868-11.231-8.204-21.133-10.006-29.653-1.233-6.055-3.064-15.35-5.485-27.804-2.121-10.296-5.456-18.358-10.015-24.132-16.73-21.598-24.484-40.293-23.26-56.082z",
    };
  },
  created() {
    this.tl = gsap.timeline({
      paused: true,
      repeat: -1,
      delay: 1,
    });
  },
  mounted() {
    const { circle } = this.$refs;
    console.log(this.$refs.circle);
    this.tl
      .to(circle, { morphSVG: this.hippo }, "+=1")
      .to(circle, { morphSVG: this.star }, "+=1")
      .to(circle, { morphSVG: this.elephant }, "+=1")
      .to(circle, { morphSVG: circle }, "+=1")
      .play();
  },
};
</script>

<style lang="scss" scoped>
.main-wrap {
  background-color: wheat;
  flex-grow: 1;
  display: flex;
}

.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  justify-content: center;
  align-items: center;
  display: flex;
}

.content {
  padding: 0 1em;
  padding-top: 1px;
  margin-top: -1px;
  padding-bottom: 1px;
  margin-bottom: -1px;

  .title {
    text-align: center;
    font-size: 2rem;
  }

  svg {
    display: block;
    margin: 20px auto;
    width: 400px;
  }
}

.st1 {
  fill: teal;
}
</style>